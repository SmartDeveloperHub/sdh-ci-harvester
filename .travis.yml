sudo: false
cache:
  directories:
  - $HOME/.m2/repository
  - $HOME/.sonar
language: java
jdk:
- oraclejdk7
before_install:
- if [[ -a .git/shallow ]]; then git fetch --unshallow; fi
before_script:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in target/config/ci/secring.gpg.enc
  -out local.secring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in target/config/ci/pubring.gpg.enc
  -out local.pubring.gpg -d
script:
- if [ ${TRAVIS_BRANCH} == 'master' ] && [ ${TRAVIS_PULL_REQUEST} = 'false' ];
  then mvn clean deploy -B -U -Dcodebase.directory=`pwd` -Dcoverage.reports.dir=`pwd`/target/all --settings target/config/ci/settings.xml;
  else mvn clean install -B -U --settings target/config/ci/settings.xml;
  fi
- if [ ${TRAVIS_PULL_REQUEST} = 'false' ];
  then mvn sonar:sonar -B -Dsonar.branch=$TRAVIS_BRANCH -Dcoverage.reports.dir=`pwd`/target/all --settings target/config/ci/settings.xml;
  fi
- mkdir /tmp/cache-trick
- mv $HOME/.m2/repository/org/smartdeveloperhub /tmp/cache-trick/
env:
  global:
  - secure: fGejDkt2Gpmfio8VaqGB4hqn+F/n0pK/IMM4nM3W5+Sft0PC+fVc6xcA1rQKyEt9YuwsLeYrTCflehgwK3EnXczAoKdaGYfdIwLRe28HaLwWrBtVGj9Tp3Oc1i2zD7KetV/RzApkycUz6DCOc2Sv2i7eYOYBF0nWn7aSvNxygNuw1tBgJWZUpiQxXi9ST62ZVb7CqOkt9uNNgYESOrPeaRrBA9cqtw9UkM+MnYHPO2TiKvaeJuNGkXA9zptUreyKeHwvmLp0AZnBpnwAo8AWXmf3WuOE19Xmi731PNOqSOj71AmqeL+JEJ3wXkakkn7lO48hTDzHjezzERVitzZOHaHQ7SjW1acb9y5OpilY9e/nOk6hXxNykMShHUp6ym0t6xYkqc6OhlNd3Mpbru6KoXlYdQR88OVGNQKI1Sa8ED3b/vo1QuA+AYyjHxRVCV9ZUJTvzlK7QIR4cW9Kayd5jVYQMEXi0K1T3TJUqIXDiy5U6hozYKTdJxTGZDp5zqRtw1eyoB7yZFI/DgWGylM9462Cg1ZhCELzIfc2YP7R1v7fFihX2UE3QMngiVc5fJ4U+9uUIBy8Lsr+OsI+ZQ9PZJT08pj9cjXUT4dpk4TmXWi9RF4fL/JCdj5U/DBHEn8psE4f1KxJDIb9Nvk5yUShseD81wKfQssf/XJ7xrNjNio=
  - secure: 02c4HEbXFef2VA9w9+z5vSksXqsyRZXuZRxqwxhr+VS+zQG0DUgdSbCpfqq4vdiOONnoPm5ptbMeFv8mx7Os/NqYazBzzPJ2wRiR1mY+vU06v1n3qiZaq37f+dlcThM5FUU5vIxcHlxWCD4FRe6pqtJzEJnXS+2aXq8HeTvvuz2pT0jt+sQfMvtq7eiii7GVHncCg8X8F7QaEJj86ywlgWCyFEtBdZaUaRKssNMJCvO0iJIHas9qs/Wrqm8mSA8K8GjLgc4M1QT80liSuhKbvboiMAvHfVHIOzTvM6PlaHxfD2L14iL+gQ2qMtYkinSSaa0wRBFApp92du6Ouns13tmr/Wzki5nSUNQuuUkRrE/oYQiqB6va0C9HvKCZgsl9ZOzr8oOIut2zXtyebVPzHiGiOAGR/splMdqDv4r3fwWJWATOAMG7TAwWxhXtn2qMVpDoeyzkiyB3el8/PraY9/hfNg/s0yqFPy7qFznk54sizNxVnIP3w+VDW8gEyo7JYBrOhpVHACWF5Wgpml7u6ktb+tWh8YBS6BjKWe/IF5wwOhPYxwZkN6NiNJ9mu8Qej1f2Jgt1RTUzvXfFzHkHapPflN74y3d+xc3oQgBcXZsXQmw3S8YVjm5RNly2/AoEz6TqwR/Luzu9gzvebYc4sW381S/767zW1OksaqNoX8o=
  - secure: GA2kEMeSoJ2CwiLE/OS1OYt3XqiLBMIYUkR2MXOgDMrSoxcnH/5KUgxOxlPzFOKMMmhPk8WPuQgVNCzfk7vGeyA14CXP4ACM9nv6BFU03H1r9nD9ztf0CShseDKQULsDsfNAunFpsD33pocUZPeN8kxh5TeKcvJq0nkEdC4eYDL7zHWtvVtEOP9I/5JSez1K7SIGwcIzzXDnoadRISj33HykRMoOGJbomxwhH091+t84R3lU9qYSKHD0vvu4IVKIA7ipiqzN0188EuzFID+nRf4Q+/tguDg3roPnbV02EEal+swiHJgLLirrrLUR0USbpu/PrjRRBJOTX0mPurmDPZ8xk+PjDaOs0Mwyj1oumy5Lbde9RfV/LM9qMibxzbbanCiuedfFzYMb9iRzkZFOkcFAyoraNSOHbTn8w2qutltq91am9aWDrsJfboh+ULQrew6R4dMEZvlxymFKylHmIY3Ub4WTkuhkhH4GuSGvzzpL2HJmYXoRzSDuy4LeJKdhiiEl1wm2fCa3LrBVQ3g+/OC64Rrhy7ubRde2zDPBwNvNBVuqu3LkjLiF0i37QEvLQR/r62JPu9WAyurZ/dSGOyzSa39cRSWjso5Tl1TxQ8yscxPKBdyMp0YPTDg+aALsokBGRi5D1J0dTYrwA6pjomOXW9keDr6xa2HIPyEM+bc=
  - secure: SADRU/p7H2lYl3SGm1RQhGWA/AgP+ZTWScEd6i8wHOS9U/gYOGsnPL+FGjskzkRME4E2O0udxbHKEQkvUhU2ulS9Znc7is/zh0iu0okIaoVslJ1frGqt/fSQTrBqcoCzEWlers7OF9payu7taSARkAwbidaSW5kzVaZgNw18nAxzJzZEc+3GNTfBw3qYvvESP+astroluxSKGI+hYPCstNbmDQTxP1+I2SQjBQWfTjNl2NVa8I9ufles3DIaWIbNEoDVL3zpojVchcjaWkd63cMrkvgwq7l2Sq1XB12n0erHEIXAGk65+Bq/el84xTRartDO0j3QTaaaS2qo50Cm/si3OpJRYA3ZCg15wAppzIX0cUaxEb1qsA/T6lw7F92FXrGQBjBfV+WB98ZBodWg/ivqppatDYMUEs6lLiY84yIBXAGjr2AmmXHAbH/MfYWNZEyujJnymRXkwoewx4tf8vDTjVwujaaofYwBBs8uWPAK5QRfGc3t+XBUtShVa1QVSh1RTAsI9joCcw+B33T4bK7GYrS49NG5FhMor0sXwZ0uFoNpblwBlZbU59JLKG0Vrc4+qdItAV3MxRBQjYZ2rhVZghnJ4Eq06lZh9iP9EZDopg4vzk07PqR50XweedFANWbNBuE34LFm7XL86JeOYl11lQZkMsTGJhY41l3QLM4=
  - secure: RP7gyaVsJ/zEXBcbG3K+8w7E0p5hgic0cgIoNTKhTqdD7bLhYGJ6sWeFD1GbjP++YB6jo7Vl26n6uBBo9+lQ8NkkPHGkfdQpIB1oqUIwfKb6pxFQ0BpPACIxZSrmZjE6/E8DWUjAg3CO+ZesbFtbSKv6lAvqQHxm6Te+QA14nAe7vXk/1moZ+7x0jMDDm8c2HlASju9UEHnc1mAn0AmR/aA8Fw7fN+tVw42G8m7aq01dq+si0J+WYHqjZWuOu8qL5jMuvsuEm8XmwG2/BMqtf8JQCqef6uSdFPEX1AEQMPYhQ8CL+y4SO79xMoQGM+fIgBJOxzSUvNQ9+CMykDUvdEvwd0JUqxU8iFyiRD4r404lcaJ5yStZ2IWjo7FnzD2dM2jd/P6fNjKIE1K5H+BGByll8HcfuIgprCqmYTvHncNV614b1qdli5Kj1+eg+HvuNYrYp43+6Jl9DKPTwX7OKzBfUV+4+gZ97f1uvafVz+WVy5T67yQFQjvLe/c0V045VEYV7f7q+WKHkpIFweogtwbUiEKDG9FfXdzScO0DrlNPot6x6EmeTyPRIFj7SWkIUg7RoN1huUjNrRu7gk8nplYF3Fk8FhXaWTpK70QPy/xhBxkB1RtylH/aLgnElbIxn1vXwjKvMHgJlAzXSeA9qdB5CbNAShiQGBjDvSLQfD4=
  - secure: MxoPL0Ahk9JUoVrPmMw3oMI69UEs4tkwfuzGhXdEA6jj0SwDDRXoLYDRXNxgcp2X2xz4m4Ew+E5rFs0HZp9E8mivl2tSw9DIaHCs6SZb4N/ZcWRhYWUF3hkzCCKQQl0mwGRZpG0BWgsS4I1mibzoiJpSDunEd+xP/Rh67O+wy+zIn+sRNkgN8tlGh2D+jOA6d8vaS6LR0bK16UwslliIMEwOfJGlTv7AMee5jcXI1IwwUUuAnUXFDcdz7jdeKSetxiZUQWSBqqNrDlZep9vBq/AqtkMx5bx6RYbCvupMAKyrLVZ7vJQc72IYBb0SvbIQo3OcyZS2C6oW8O62mLmVdskfELQPprmhxuI0UwfM2uNt7KCl7NlsFEIuygQLJtuh6f+8ONQxohFJgtdd0tBF3rMlrAk2FKaATxyeD9Nufvsr0NGHc1L6X17++HHYrzQ2a0Vn86qijcTPCu/hjXueUfB6XlfbD57jPlez3VlBnkphY0XF2Xn3wKYxSNqMkFWzHZuNk+xkwjD3Wx4vjyeh9bdysue8QICMYUU2SOxTD4+1jBJrhkVdqPzCqcgP7pUlYXZtMHGXBUBIPFiu4HNGoWSkoR1SFYJRJM9PBMQue+Ycutu3LFYK8KwcAWUl3qNcfU0R9eqiZrqBZYKGTvnnMfI6GaYo9Uah+VtX2zdG6JM=
  - secure: e4y7Y6zcS//yPyfoxqzrmQZyATjxe7WEb8WbtbykMEinU46u+yGOLgDpXadSSrtUZRasugJ9OxzOhafgqHl0E3rG41VB7ue+cRUKf1RQFHvMPD7tKQN0RmaXofGk9BZQ0jC+sR2ml5TUcX1MFeycsS/5UbUMwteMVR3lMjXWXrJTwKMS6DWYLCRO0g5j2/oomArCNgpFRZROYUdWFAnsiW9qClbuebwHROM++XqQX/y3bOLDSAyOkGYIlqmNmamuoKT8ksiQpHhAEr6Q0HPAf7JXTkGdi7ew/L0K1qBBmWMqj4YOtyXsBbS3EgD/Purl4MEVqlDFU2amigfKsWMJRmKGOGK2z/Xoz5oplQjssfmi2L+L0S0FbIvgg8bMYE4a9wB7qPS30uzaPB/qyfFoxipAinQluLT2+dplP4IIQIS5wGft0E4JYb5RLczWkwXH3kP8RS8ujolgJpmM0J5RF2OpZyYSHvc5UjKqB4xHgScvfaZp3MYlSBJDvp37k5cd6QxinUZTZd5QZGcthgK0ZoBpezAEEFSsjF57SOBbGfVhx8LbWAUHJquNvqJ9ki4p/yfFPsMKJy6GE8ZEeNHz2kLZHRWgq4xvKgSO6XEc+wKoLKqvJUqFU/GK9nWfOBXCJ741V5WpMfCi9moEGypm8MpzOdgwwlDwyvoYKHvlCcE=
  - secure: XucUo6fHEOnuja1p++lcvH5W8Yy+yf3jJkRyftjOs9UgDGMOrxi2/0lOT/2kFq8j8yqB0rDey8qpf5Id5geYok4yqNI2kHWTQsLYGXOYWjMHNRHjqYMBNvB9/XWAMetvWFi3Dkybtk49SrWJo0m+gjyhYW6HbLv6rp6qGD0m4Yhkv5bZ3wNPBpf7vX27NKB5SKfGZnPG9sMArfVnanStlvC5G2fO6Qzb3HBTiTZ2VIx+U0DRcQoSctjD+78EDLJZCwWsOVYlg9HbBqeUbGQHPgW1I8hEEDdyW+roueUoFL08mzMd/OroXZwDqpiKmSjQ2oPX8oEW1blqJg1x1eHZ+38+fHEWRfvpOrNN879G546athWF9K7tdbN54OONA5gOltCA4SGuUDjGyBdlOSHL02frINnoYyyg07cpHzQxV1vL45nKQj4K5hf8IA5FbOhfc7/FWkqREBT+LtHXndH6xz6O2Auzum4JFcZ47wGiNdS07B09F3Jg9JlNrvtnlUSrFQS1UhYKQMTwFZhJU6+DqCF5aAtGdKC73zeBpDaRbWLdPy26QeaTKTtRdMR0Dg+xW1EmGwYRHEDYKr20WCGvh09k06G3hLd/LXyA26Llh06BR7Yzot8s+ySNRKlWxHSRY1L38NOzmeRY2XZI818j0/+hk0x8iAqIFhkA9m1E8PM=
  - secure: eIhnrxSPvkcKuWxF9DWN6Pjo+SlSSI4VS14AA0YmbvZVEStVJEJcLgEjPRdQqIft8ioS3Pb/mzfE5O4r9QZOvR89ct3URWr+4JgOJgNjcWl/rrWNU18Zzd4w7tfRPYDk59AU1uDvlyG2EpTzvPf0UoK7A+Vds48e7tmljVbb6GShLE7/VMGjj60WZak2acFPkzgoRCVCtI/Z45eFTGKz7g0WAGwWHyCjXxxgfi5op/BCNIt4huF3aBsgnER18XYsDQYDsIvwPdRqiLYkwZrdxNAqDuKDnVOaqLcEtDQCTGaukUo+yoXfwVdEM9FKxC74sKnsySSCEza7TGWW3O/KP0cbn3dDhUkbQvb9cT9xhdySN2JgOqzQme8ZTyCv2SXaXJdtKiV6Yp8n7DqsmOvdloClcvjehwnc+a1eqhDo/hFw1skg6AZokILZ+Zqrf96q8sO5d/fpTQbqD3yv96/ZJ4Ic3pxHhX+Bca6ZhT1ZcEBr3E9qYTdL/VezVsA3euUjMKWHTyaB9s8ODM6i9dzzjEJi2wsM/n5CjdkE8MHpdz1VmUWNaytyevaIFfsJnl72fZMijGtqTwfs8HzgB4AKjvx+ezN00cJSKihXxTPFAKyW2RDsVSVACQ1jQIFt1OHiRyKAymmfEoZhN/jFiXpuZQSYaR5jXOVHUI05rCrYxAA=
